<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>E2E Invest - Home Broker</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <div class="container">

    <!-- LOGIN -->
    <div id="loginSection" class="card">
      <div style="text-align: center;">
        <img src="e2e_favicon_32x32.png" alt="Logo E2E Invest" class="logo" />
      </div>
      <h2><span style="color: #9B30FF;"></span> | <span style="color: #00FF99;">Login</span></h2>
      <label>CPF: <input type="text" id="cpf" placeholder="000.000.000-00" /></label>
      <label>Senha: <input type="password" id="senha" /></label>
      <button onclick="login()">Entrar</button>
      <button onclick="mostrarCadastro()">N√£o tem conta? Cadastre-se</button>
      <button onclick="esqueciSenha()">Esqueci Minha Senha</button>
      <p id="loginMsg" class="mensagem"></p>
    </div>

    <!-- CADASTRO -->
    <div id="cadastroSection" class="card hidden">
      <div style="text-align: center;">
        <img src="e2e_favicon_32x32.png" alt="Logo E2E Invest" class="logo" />
      </div>
      <h2><span style="color: #9B30FF;"></span> | <span style="color: #00FF99;">Cadastro</span></h2>
      <label>Nome: <input type="text" id="nome" placeholder="Seu nome completo" /></label>
      <label>Celular: <input type="tel" id="whatsapp" placeholder="11999999999" pattern="[0-9]{10,11}" required /></label>
      <label>Email: <input type="email" id="email" placeholder="exemplo@dominio.com" required /></label>
      <label>CPF: <input type="text" id="novoCpf" placeholder="000.000.000-00" /></label>
      <label>Senha: <input type="password" id="novaSenhaCadastro" /></label>
      <label>Confirmar Senha: <input type="password" id="confirmaSenha" /></label>
      <button onclick="cadastrarUsuario()">Cadastrar</button>
      <button onclick="mostrarLogin()">‚Üê Voltar ao login</button>
      <p id="cadastroMsg" class="mensagem"></p>
    </div>

    <!-- PORTAL -->
    <div id="portal" class="hidden">
      <div class="card">
        <div style="display: flex; justify-content: space-between; align-items: center;">
          <h2>E2E Invest | Bem-vindo <span id="username"></span> | Saldo: R$ <span id="saldo"></span></h2>
          <div>
            <button onclick="mostrarTransferencia()" title="Transfer√™ncia">üí∏</button>
            <button onclick="logout()" style="background:red; width: 60px;">Sair</button>
          </div>
        </div>
      </div>

      <div class="flex">
        <div class="card" style="flex: 1">
          <h3>Carteira</h3>
          <table id="carteira">
            <thead><tr><th>Ativo</th><th>Quantidade</th></tr></thead>
            <tbody></tbody>
          </table>
        </div>
        <div class="card" style="flex: 1">
          <h3>Book de Ofertas (B3)</h3>
          <div class="scrollable">
            <table id="book">
              <thead><tr><th>Ativo</th><th>Pre√ßo Atual (R$)</th></tr></thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </div>

      <div class="card">
        <h3>Boleta de Compra e Venda</h3>
        <select id="tipo"><option>Compra</option><option>Venda</option></select>
        <select id="ativo"></select>
        <input type="number" id="quantidade" placeholder="Qtd (m√∫ltiplos de 100)" />
        <input type="number" id="valor" placeholder="Valor por lote (R$)" />
        <button onclick="executarOperacao()">Enviar Ordem</button>
        <p id="mensagem" class="mensagem"></p>
      </div>

      <div class="card">
        <h3>Extrato de Opera√ß√µes</h3>
        <table id="extrato">
          <thead><tr><th>Tipo</th><th>Ativo</th><th>Qtd</th><th>Valor Total (R$)</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>

      <div class="card">
        <h3>Book de Ordens</h3>
        <table id="ordens">
          <thead><tr><th>Tipo</th><th>Ativo</th><th>Qtd</th><th>Valor</th><th>Cota√ß√£o</th><th>Status</th><th>A√ß√£o</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

   <!-- TRANSFER√äNCIA -->
<div id="transferSection" class="card hidden">
  <h2>Transfer√™ncia</h2>

  <label>Banco:
    <input type="text" id="banco" placeholder="Ex: Banco do Brasil" minlength="3">
  </label>

  <label>Ag√™ncia:
    <input type="text" id="agencia" placeholder="Ex: 1234" pattern="\d{3,5}">
  </label>

  <label>Conta destino:
    <input type="text" id="contaDestino" placeholder="Ex: 12345678" pattern="\d{4,10}">
  </label>

  <label>Cidade:
    <input type="text" id="cidade" placeholder="Ex: S√£o Paulo" minlength="2">
  </label>

  <label>Estado (Sigla):
    <input type="text" id="estado" placeholder="Ex: SP" maxlength="2" pattern="[A-Z]{2}">
  </label>

  <label>Valor:
    <input type="number" id="valorTransferencia" min="0.01" step="0.01">
  </label>

  <label>Agendar transfer√™ncia?
    <input type="checkbox" id="agendar">
  </label>

  <div id="agendamentoCampos" class="hidden">
    <label>Data e hora:
      <input type="datetime-local" id="dataHora">
    </label>
    <label>Repetir no m√™s seguinte?
      <select id="repetirMes">
        <option value="nao">N√£o</option>
        <option value="sim">Sim</option>
      </select>
    </label>
  </div>

  <button onclick="realizarTransferencia()">Transferir</button>
  <div id="loader" class="hidden">Processando...</div>
  <p id="transferMsg" class="mensagem"></p>
  <button onclick="voltarPortal()">‚Üê Voltar</button>

  <h3>Agendamentos</h3>
  <table id="tabelaAgendamentos">
    <thead>
      <tr>
        <th>Banco</th>
        <th>Ag√™ncia</th>
        <th>Conta</th>
        <th>Cidade</th>
        <th>Estado</th>
        <th>Valor</th>
        <th>Data/Hora</th>
        <th>Repetir</th>
        <th>Status</th>
        <th>A√ß√£o</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>
   <script src="script.js"></script>
</body>
</html>
